---
title: Модули
slug: modules
---

В JavaScript модули помогают организовывать код, разделяя его на несколько более удобных частей, которые можно импортировать и использовать в других местах. Это позволяет избежать загрязнения глобальной области видимости, повышает читаемость кода и улучшает его структуру.

С помощью `import` и `export` можно разделять функциональность между файлами и работать с ней более эффективно.

## `export`

Чтобы сделать данные (функции, переменные, классы) доступными для других файлов, их необходимо **экспортировать**.

### `default export`

Когда требуется экспортировать только один элемент (например, класс или функцию), используется экспорт **по умолчанию**.

```js
// module.js
export default function greet(name) {
	console.log(`Hello, ${name}!`);
}
```

> [!TIP]
> 
> Чтобы использовать экспортированный по умолчанию элемент, его можно импортировать под любым именем:
> 
> ```js
> // app.js
> import greet from './module.js';
> 
> greet("Alice"); // Hello, Alice!
> ```

### `named export`

Если необходимо экспортировать несколько элементов, используется **именованный экспорт**. Каждый элемент экспортируется по имени.

```js
// module.js
export const name = "Alice";
export function greet(name) {
	console.log(`Hello, ${name}!`);
}
```

Или можно экспортировать несколько элементов в одном объекте:

```js
// module.js
const name = "Alice";
function greet(name) {
  console.log(`Hello, ${name}!`);
}

export { name, greet };
```

## `import`

Чтобы использовать экспортированные данные в другом файле, их нужно импортировать с помощью ключевого слова `import`.

### `default import`

Для импорта того, что было экспортировано по умолчанию, используется произвольное имя (псевдоним) для элемента:

```js
// app.js
import greet from './module.js';

greet("Alice"); // Hello, Alice!
```

### `named import`

Если нужно импортировать несколько именованных элементов, они перечисляются в фигурных скобках:

```js
// app.js
import { name, greet } from './module.js';

console.log(name); // Alice
greet(name); // Hello, Alice!
```

### `import * as`

Если нужно импортировать все экспортированные элементы как объект, можно использовать `import * as`. Это позволяет работать с ними через объект.

```js
// app.js
import * as module from './module.js';

console.log(module.name);  // Alice
module.greet(module.name); // Hello, Alice!
```

## Динамические импорты

Динамические импорты позволяют загружать модули только по мере необходимости. Это может значительно повысить производительность приложения, поскольку помогает уменьшить первоначальный размер загружаемого кода и загружать модули только в момент их использования.

Для динамической загрузки используется синтаксис `import()`.

```js
// app.js
function loadModule() {
  import('./module.js') // динамический импорт
    .then(module => {
      module.greet("Alice");
    })
    .catch(err => {
      console.log("Ошибка при загрузке модуля:", err);
    });
}

loadModule(); // модуль загружается только при вызове
```

> [!NOTE]
> 
> Динамические импорты возвращают `Promise`, что позволяет работать с ними асинхронно. Это значит, что можно использовать `then()`, `catch()` или `await` для обработки результата.

> [!NOTE]
> 
> **Использование динамических импортов с `await`**
> 
> Так как `import()` возвращает `Promise`, можно использовать его в асинхронных функциях с `await` для упрощения кода.
> 
> ```js
> // app.js
> async function loadModule() {
>   try {
>     const module = await import('./module.js');
>     module.greet("Alice");
>   } catch (err) {
>     console.log("Ошибка при загрузке модуля:", err);
>   }
> }
> 
> loadModule();
> ```

## Использование в браузере

Модули — это часть современного JavaScript, поддерживаемая большинством современных браузеров. Чтобы использовать модули в браузере, необходимо указать атрибут `type="module"` в теге `<script>`:

```html
<script type="module" src="app.js"></script>
```

> [!WARNING]
> 
> **Важный момент**
> 
> Модули загружаются асинхронно, и файлы, использующие `import` или `export`, должны быть доступны по URL (например, на сервере или локальном сервере). Загрузка через `file://` не поддерживается в браузерах для модулей.