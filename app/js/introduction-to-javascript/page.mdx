---
title: Введение
---

## Hello, world!

Добро пожаловать в краткое руководство по JavaScript!
Данное руководство было создано мной с целью собрать все важные особенности и фичи данного языка в одном месте, куда было бы крайне удобно возвращаться.
Я крайне не рекомендую начинать изучать программирование с помощью этого руководства, т.к. оно может пригодиться только тем, кто уже знаком с основными принципами программирования, знает что такое переменные, функции, классы и пр.
Если у вас есть опыт работы с теми же Python или C# и вам нужно быстро понять как работать с JS, то вы попали куда нужно.

> JavaScript изначально создавался для выполнения небольших скриптов в браузере. Например, чтобы показывать всплывающие окна и проверять формы. Но прошло время, и теперь на этом *браузерном скриптовом языке* пишут полноценные серверные, мобильные приложения и даже игры!

Можно много говорить о том, как прекрасен Python, однако его скорость оставляет желать лучшего. Если вы планируете писать backend для сайта, то выбор любого фреймворка на JavaScript может быть вполне хорошим решением, т.к. это прекрасный баланс между легкостью написания кода (Rust хоть и в разы быстрее, но все же порог входа в него крайне высок) и скоростью работы.

## Источники

https://metanit.com/web/javascript/  
https://learn.javascript.ru/

## Основные среды выполнения

JavaScript используется в различных средах выполнения, каждая из которых предоставляет уникальные возможности и особенности. Давайте рассмотрим две основные среды: браузер и Node.js.

### Браузер

JavaScript был создан для работы в браузерах и до сих пор остаётся одной из самых популярных сред для его выполнения. В браузере он используется для динамического изменения содержимого страниц, обработки событий и взаимодействия с сервером.

> [!TIP]
> 
> **Применение**
> 
> - Создание интерактивных веб-сайтов и приложений.
> - Обработка пользовательского ввода и отображение изменений в реальном времени.
> - Работа с сетевыми запросами для взаимодействия с сервером (например, с помощью REST API).

> [!NOTE]
> 
> **Основные особенности**
> 
> - **Работа с DOM (Document Object Model)**  
> JavaScript взаимодействует с HTML-страницей через DOM, позволяя изменять структуру, стиль и содержимое страницы. Это ключевое средство для создания интерактивных интерфейсов.
> ```js
> document.getElementById('myDiv').innerHTML = "Новый текст!";
> ```
> - **Обработка событий**  
> JavaScript используется для обработки пользовательских событий, таких как клики, прокрутка, наведение мыши, ввод данных в формы и т. д. Обработчики выполняют функции при возникновении этих действий.
> ```js
> document.getElementById('myButton').addEventListener('click', function() {
>   alert('Кнопка нажата!');
> });
> ```
> - **Сетевые запросы (AJAX, Fetch API)**  
> JavaScript позволяет отправлять запросы к серверу без перезагрузки страницы, что делает страницы динамичными и интерактивными.
> ```js
> fetch('/api/data')
>   .then(response => response.json())
>   .then(data => console.log(data));
> ```
> - **Web APIs**  
> JavaScript имеет доступ к множеству браузерных API, таких как геолокация, мультимедиа (Web Audio API), локальное хранилище (localStorage) и другие.

### Node.js

Node.js - это среда выполнения JavaScript для серверной разработки. Она использует движок V8 (тот же, что и в Chrome), но предоставляет больше возможностей для работы с серверной частью.

> [!TIP]
> 
> **Применение**
> 
> - Создание серверных приложений, REST API, а также веб-серверов.
> - Разработка real-time приложений (например, чатов) с помощью WebSocket и асинхронной модели.
> - Работа с базами данных (например, MongoDB) и файловыми системами на сервере.

> [!NOTE]
> 
> **Основные особенности**
> 
> - **Серверное выполнение JavaScript**  
> Node.js позволяет запускать JavaScript на сервере, что упрощает разработку, так как можно использовать один язык как для клиентской, так и для серверной части.
> ```js
> const http = require('http');
> const server = http.createServer((req, res) => {
>   res.write('Hello, world!');
>   res.end();
> });
> server.listen(3000, () => {
>   console.log('Server is running on port 3000');
> });
> ```
> 
> - **Доступ к файловой системе**  
> В отличие от браузера, в Node.js можно работать с файлами напрямую, читать и записывать их. Это полезно для серверных приложений, которые хранят данные на диске.
> ```js
> const fs = require('fs');
> fs.readFile('example.txt', 'utf8', (err, data) => {
>   if (err) throw err;
>   console.log(data);
> });
> ```
> 
> - **Модульная система (CommonJS)**  
> Node.js использует систему модулей, разделяя код на файлы и управляя зависимостями. Это помогает организовать серверный код.
> ```js
> // в одном файле
> module.exports = function() { console.log('Hello from module!'); };
> 
> // в другом файле
> const myModule = require('./myModule');
> myModule();
> ```
> 
> - **Асинхронность и неблокирующий I/O**  
> Ключевая особенность Node.js - асинхронная модель работы с вводом/выводом (I/O). Она позволяет обрабатывать множество запросов одновременно без блокировки основного потока, что идеально подходит для высоконагруженных приложений.
> ```js
> const fs = require('fs');
> fs.readFile('largeFile.txt', 'utf8', (err, data) => {
>   if (err) throw err;
>   console.log(data);
> });
> ```

## Особенности JavaScript

JavaScript - гибкий и мощный язык программирования, который активно используется в веб-разработке. Он обладает рядом особенностей, которые формируют его уникальное поведение и широкую сферу применения.

### Динамическая типизация

JavaScript - **динамически типизированный** язык: тип переменной определяется во время выполнения, а не на этапе компиляции.

```js
let x = 10; // x - число
x = "hello"; // теперь x - строка
x = true; // теперь x - boolean
```

Это даёт гибкость, но может привести к неожиданным ошибкам при неаккуратном использовании.

### Интерпретируемость

JavaScript традиционно считается **интерпретируемым** языком, поскольку выполняется построчно без явной предварительной компиляции.

Однако современные движки, такие как **V8 (Chrome, Node.js)** и **SpiderMonkey (Firefox)**, используют **JIT-компиляцию (Just-In-Time Compilation)**.
Это значит, что код сначала интерпретируется, а затем часто используемые части компилируются в машинный код прямо во время выполнения, ускоряя программу.

### Слабая типизация

JavaScript - **слабо типизированный** язык, что означает автоматическое приведение типов в некоторых операциях. Это может приводить к неожиданным результатам:

```js
console.log(5 + "5");  // "55" (число приводится к строке)
console.log("5" - 2);  // 3 (строка приводится к числу)
console.log(true + 1); // 2 (true преобразуется в 1)
```

Эта особенность ускоряет написание кода, но требует осторожности, так как автоматическое преобразование типов может привести к ошибкам.

### Автоматическое управление памятью

JavaScript использует **сборщик мусора (Garbage Collector)**, который автоматически удаляет ненужные объекты из памяти. Это избавляет разработчика от ручного управления памятью, как в C или C++.

Основной механизм - **счётчик ссылок и "mark-and-sweep" (пометка и очистка)**.

Пример утечки памяти из-за висячей ссылки:

```js
let obj = { data: "some data" };
let ref = obj;
obj = null; // ref всё ещё ссылается на объект, он не удалится
```

Поэтому, несмотря на автоматическое управление памятью, разработчику важно избегать утечек, например, из-за замыканий или долгоживущих ссылок.

### Однопоточный, но асинхронный

JavaScript работает в **одном потоке**, но обрабатывает асинхронные задачи с помощью **Event Loop**. Это позволяет выполнять долгие операции, такие как сетевые запросы и таймеры, без блокировки основного потока.

Асинхронность реализуется через **коллбэки**, **промисы** и `async`/`await`:

```js
console.log("Начало");
setTimeout(() => console.log("Прошло 2 секунды"), 2000);
console.log("Конец");
// Начало
// Конец
// Прошло 2 секунды
```

Благодаря этому JavaScript эффективен для веб-серверов и интерфейсов.

### Прототипное наследование

JavaScript использует **прототипное** наследование, где **каждый объект может наследовать свойства и методы от другого объекта (прототипа)**, в отличие от классового подхода, как в Java или C++, где объекты создаются на основе классов.

```js
const animal = {
	makeSound() {
		console.log("Some sound...");
	}
};

const dog = Object.create(animal);
dog.bark = function() {
	console.log("Woof!");
};

dog.makeSound(); // "Some sound..." (унаследовано)
dog.bark();      // "Woof!"
```

В ES6 появились классы (`class`), но они всего лишь синтаксический сахар для прототипов:

```js
class Animal {
	makeSound() {
		console.log("Some sound...");
	}
}

class Dog extends Animal {
	bark() {
		console.log("Woof!");
	}
}

const myDog = new Dog();
myDog.makeSound(); // "Some sound..."
myDog.bark(); // "Woof!"
```

Так JavaScript сохраняет гибкость прототипного наследования, предлагая более привычный синтаксис классов.

## Cтандарты

JavaScript претерпел значительные изменения с момента своего создания, и регулярные обновления сделали его одним из самых динамично развивающихся языков программирования.

### ES5 (2011)

**ECMAScript 5 (ES5)** был принят в 2009 году и стал основным стандартом до появления ежегодных обновлений. ES5 обеспечил стабильность для JavaScript и стал основой для большинства современных библиотек.

> [!NOTE]
> 
> **Основные особенности ES5**
> 
> - Введение строгого режима (`"use strict"`) для улучшения безопасности и поиска ошибок.
> - Методы для работы с массивами `forEach`, `map`, `filter`, `reduce`, `some`, `every`.
> - Поддержка JSON через методы `JSON.parse()` и `JSON.stringify()`.
> - Геттеры и сеттеры для свойств объектов.
> - Методы для работы с объектами `Object.create()`, `Object.defineProperty()`, `Object.getOwnPropertyDescriptor()`.

### ES6 (2015)

**ECMAScript 6 (ES6)**, также известный как **ES2015**, стал революционным обновлением, которое принесло множество новых возможностей и улучшений.

> [!NOTE]
> 
> **Основные особенности ES6**
> 
> - Введение классов для удобства работы с объектно-ориентированным программированием.
> ```js
> class Animal {
>   constructor(name) {
>     this.name = name;
>   }
>   speak() {
>     console.log(this.name + ' говорит');
>   }
> }
> const dog = new Animal('Собака');
> dog.speak(); // Собака говорит
> ```
> - Новые способы объявления переменных с блочной областью видимости: `let` и `const`.
> ```js
> let x = 10;
> const y = 20;
> ```
> - Удобные функции-стрелки для упрощения работы с `this` и создания компактных функций.
> ```js
> const sum = (a, b) => a + b;
> ```
> - Введение `Promise` для работы с асинхронными операциями без использования коллбеков.
> ```js
> let promise = new Promise((resolve, reject) => {
>   let success = true;
>   if (success) resolve('Успех');
>   else reject('Ошибка');
> });
> promise.then(result => console.log(result)).catch(error => console.log(error));
> ```
> - Интерполяция строк с помощью шаблонных литералов.
> ```js
> const name = 'Мир';
> const greeting = `Привет, ${name}!`;
> ```
> - Удобное деструктурирование объектов и массивов.
> ```js
> const person = { name: 'Иван', age: 30 };
> const { name, age } = person;
> ```

### Ежегодные обновления (ESNext)

После **ES6 (2015)** был введён процесс **ежегодных обновлений**, и новые возможности добавляются по мере необходимости. Новые версии ECMAScript теперь выпускаются каждый год, например, **ES2016**, **ES2017** и т.д.

> [!NOTE]
> 
> **Основные особенности после ES6**
> 
> - **ES2016:** метод `Array.prototype.includes` для проверки наличия элемента в массиве.
> - **ES2017:** введение асинхронных функций (`async`/`await`).
> ```js
> async function fetchData() {
>   let response = await fetch('https://api.example.com');
>   let data = await response.json();
>   console.log(data);
> }
> ```
> - **ES2018:** улучшения для регулярных выражений, например, флаг `s` для работы с точкой как символом новой строки.
> - **ES2019:** методы `Array.prototype.flat` и `Array.prototype.flatMap` для работы с вложенными массивами.
> - **ES2020:** опциональные цепочки (`?.`) для безопасного обращения к свойствам и nullish coalescing (`??`) для работы с `null` и `undefined`.
> ```js
> const user = { address: { city: 'Москва' } };
> console.log(user?.address?.city);  // Москва
> console.log(user?.address?.zipcode);  // undefined
> ```

## TypeScript

**TypeScript** - это надстройка над JavaScript, добавляющая строгую типизацию и другие улучшения. TypeScript компилируется в обычный JavaScript, что означает полную совместимость с любым JavaScript-кодом, но с дополнительными возможностями для повышения качества и удобства разработки.

> [!NOTE]
> 
> **Особенности TypeScript**
> - **Строгая типизация:** задайте типы для переменных, функций и объектов на этапе компиляции для выявления ошибок раньше.
> ```ts
> let message: string = "Hello, world!";
> message = 42;  // Ошибка: Тип 'number' не может быть присвоен типу 'string'
> ```
> - **Интерфейсы и типы:** точно описывают структуру объектов и данных, улучшая понимание кода.
> ```ts
> interface Person {
>   name: string;
>   age: number;
> }
> 
> const person: Person = {
>   name: "Иван",
>   age: 30
> };
> ```
> - Улучшенное ООП: поддержка декораторов, модификаторов доступа (`public`, `private`), абстрактных классов и интерфейсов.
> ```ts
> class Animal {
>   private name: string;
> 
>   constructor(name: string) {
>     this.name = name;
>   }
> 
>   public speak(): void {
>     console.log(`${this.name} говорит`);
>   }
> }
> ```
> - **Совместимость с JavaScript:** все библиотеки JavaScript можно использовать в TypeScript с дополнительными проверками типов. Это позволяет переходить на TypeScript поэтапно.

> [!NOTE]
> 
> **Преимущества TypeScript**
> - **Отсутствие ошибок с типами:** предотвращает типичные ошибки на ранней стадии разработки.
> - **Улучшенная читаемость:** типы и интерфейсы делают код понятнее, что особенно полезно в больших проектах.
> - **Масштабируемость:** типизация упрощает работу с большими кодовыми базами и снижает количество ошибок.

> [!NOTE]
> 
> **Недостатки TypeScript**
> - **Сложность настройки:** требует компиляции в JavaScript и может потребовать больше времени на конфигурацию.
> - **Дополнительная сложность:** использование типов и интерфейсов может добавить лишний код, что усложняет работу для небольших проектов.

> [!TIP]
> 
> **Когда использовать JavaScript или TypeScript?**
> - **JavaScript**
> 	- Идеален для небольших проектов или прототипов.
> 	- Подходит для быстрого прототипирования и лёгкой разработки.
> 	- Используется, когда строгая типизация не критична.
> - **TypeScript**
> 	- Рекомендуется для крупных проектов, где важна поддержка и масштабируемость.
> 	- Особенно полезен для командных разработок, где типизация улучшает взаимодействие между разработчиками.
> 	- Подходит для долгосрочных проектов, где необходимо поддерживать чистоту и читаемость кода на протяжении времени.

## Подключение JavaScript к HTML

Код можно писать внутри тега `<script>...</script>`:

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>My website</title>
</head>
<body>
    <script>
        document.write("<h2>Первая программа на JavaScript</h2>");
    </script>
</body>
</html>
```

Можно подключать отдельный JS-файл через `<script src="script.js"></script>`.  
В этом примере файл находится в одной папке с index.html:

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>My website</title>
</head>
<body>
    <script src="main.js"></script>
</body>
</html>
```

## Вывод данных

`console.log("Привет, мир!")` – вывод в консоль.

```js
const sum = 5 + 8;
console.log("Результат операции: ");
console.log(sum);
```

`alert("Сообщение")` – всплывающее окно.  
`document.write("Текст")` – запись в HTML.

## Выполнение кода

```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>METANIT.COM</title>
</head>
<body>
    <script>
	    // здесь мы видим три инструкции, разделенные точкой с запятой:
        document.write("2 + 5 =  "); const sum = 2 + 5; document.write(sum);
        
        // то же самое можно написать и так:
        document.write("2 + 5 =  ") // просто выводим текст
        const sum = 2 + 5 // объявляем const и присваиваем ему сумму чисел
        document.write(sum) // выводим значение переменной 'sum'
        
		// также можно объединить инструкции в "блок" используя { }
		{
            document.write("Как дела? ");
            document.write("Че не отвечаешь, ты че спишь? ");
        }
    </script>
</body>
</html>
```

> [!WARNING]
> 
> Не смотря на то, что браузеры понимают, что инструкции на разных строчках отдельны друг от друга, я настоятельно рекомендую заиметь привычку разделять их, ставя `;` в конце каждой строки!

